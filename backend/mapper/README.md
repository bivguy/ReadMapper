## Overview

This project implements a genome mapper that aligns paired-end short reads to a reference genome and outputs results in SAM format. The Makefile provides several convenient commands for running and testing the program without typing long command-line arguments.

## Genome Mapper - Running Guide

The provided **Makefile** makes it easy to run different modes of the program directly from VS Code or the terminal â€” no need to type long Python commands.

### Default Files

The Makefile is preconfigured to use:
- REF = io/inputs/ref/short_reads_ref_genome.fasta
- READS1 = io/inputs/reads/short_reads_1_2000_subset.fastq
- READS2 = io/inputs/reads/short_reads_2_2000_subset.fastq
- TRUTH = io/inputs/readGroundTruth/short_reads_2000_subset_ground_truth_1_base.txt
- OUTPUT = io/outputs/SAMOutputFile.SAM

### running your own data

To use your own reference and read files, edit the variables at the top of the Makefile with the name of the files you would like to use for the genome mapper. Ensure that the correct files are in the propor locations:

- REF = io/inputs/ref/{your_reference.fasta}
- READS1 = io/inputs/reads/{your_reads_1.fastq}
- READS2 = io/inputs/reads/{your_reads_2.fastq}
- TRUTH = io/inputs/readGroundTruth/{your_ground_truth.txt}
- OUTPUT = io/outputs/{output.sam}

To adjust the number of cores used (for example, like 128 if in NOTS), then change the variable num_processes on line 125 to the appropriate number of cores

### Make Commands

below is a description of the various different make commands available for this program

- make cython: setup the code to run to run with cython
- make run: Default run without memory tracking
- make run-mem: Run with memory tracking
- make bench: Run benchmark mode (no SAM output, with timing)
- make run-custom: Run with custom parameters
- make clean: clean up
- make clean-cython: clean up the cython files generated by make cython


### venv setup

deactivate 2>/dev/null || true
rm -rf venv
python3.11 -m venv venv  || /opt/homebrew/opt/python@3.11/bin/python3 -m venv venv
source venv/bin/activate
python -m pip install -U pip setuptools wheel
python -m pip install --no-cache-dir "Cython==3.0.11" "numpy==2.1.3"

# make cython
python setup.py build_ext --inplace

# Slurm Cython:
module load GCCcore/11.2.0
module load Python/3.9.6

To run make cython

then run make build

then run sbatch submit.sbatch
